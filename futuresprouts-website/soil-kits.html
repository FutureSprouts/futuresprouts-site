<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Soil Testing Kit | FutureSprouts Services</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Request a soil testing kit (limit 1 per order)." />
  <link rel="stylesheet" href="style.css" />
  <script src="config.js"></script>
</head>
<body>

  <!-- Injected header (from script.js) -->
  <div id="siteHeader"></div>

  <div class="container mobile-menu">
    <a href="about.html">About</a>
    <a href="programs.html">Programs</a>
    <a href="services.html">Services</a>
    <a href="events.html">Events</a>
    <a href="impact.html">Impact</a>
    <a href="get-involved.html">Get Involved</a>
    <a href="contact.html">Contact</a>
    <a href="donate.html" class="donate-btn">Donate</a>

    <a href="cart.html" class="cart-link mobile-cart-link" aria-label="View cart">
      <span class="cart-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" width="18" height="18" role="img" focusable="false">
          <path d="M6.5 6.5h14l-1.2 7.2a2 2 0 0 1-2 1.7H9.1a2 2 0 0 1-2-1.6L5.2 3.8H2.8"
            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="9.5" cy="20" r="1.4" fill="currentColor"/>
          <circle cx="17.5" cy="20" r="1.4" fill="currentColor"/>
        </svg>
      </span>
      <span style="font-weight:800;">Cart</span>
      <span class="cart-badge" id="cartBadgeMobile">0</span>
    </a>
  </div>

  <section class="section">
    <div class="container">
      <div class="kicker reveal">Services • Soil Testing</div>
      <h2 class="reveal">Soil testing kit (1 per order).</h2>
      <p class="reveal">To prevent abuse, we limit soil kits to one per request.</p>

      <div class="rulebox reveal">
        Abuse prevention rule: <strong>Soil testing kits are limited to 1 per order.</strong>
      </div>

      <div class="grid cols-2">
        <div class="card reveal">
          <img class="shop-img" src="https://images.unsplash.com/photo-1617137984095-74e4e5b984b3?auto=format&fit=crop&w=1600&q=80" alt="Soil testing kit">
          <div class="shop-body">
            <div class="pill">Soil</div>
            <h3>Soil Testing Kit</h3>
            <p class="small">Basic kit for sampling guidance + results process (details you can refine).</p>

            <div class="divider"></div>

            <div class="qty-row">
              <div><strong>Quantity</strong><div class="small">Max 1 per order</div></div>
              <div class="qty">
                <button type="button" id="soilDec">−</button>
                <span id="soilQty">0</span>
                <button type="button" id="soilInc">+</button>
              </div>
            </div>

            <div class="cart-actions" style="margin-top:14px;">
              <a class="btn outline" href="services.html">Back</a>
              <a class="btn primary" href="cart.html">View Cart</a>
            </div>
          </div>
        </div>

        <div class="card reveal">
          <div class="pill">Note</div>
          <h3>What happens next?</h3>
          <p class="small">
            After you submit your request, FutureSprouts will confirm eligibility, delivery method, and timing.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Injected footer (from script.js) -->
  <div id="siteFooter"></div>

  <script src="script.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      function readyCart() {
        return window.FS_CART
          && typeof window.FS_CART.loadCart === "function"
          && typeof window.FS_CART.cartAddOrUpdate === "function";
      }

      function getQty(){
        const cart = window.FS_CART.loadCart();
        const item = cart.find(x => x.id === "soil-kit-1");
        return item ? item.qty : 0;
      }

      function render(){
        document.getElementById("soilQty").textContent = getQty();
      }

      function bind(){
        document.getElementById("soilInc").onclick = () => {
          window.FS_CART.cartAddOrUpdate("soil-kit-1", "Soil Testing Kit", {}, +1, { maxPerItem: 1 });
          render();
        };
        document.getElementById("soilDec").onclick = () => {
          window.FS_CART.cartAddOrUpdate("soil-kit-1", "Soil Testing Kit", {}, -1, { maxPerItem: 1 });
          render();
        };
        render();
      }

      if (readyCart()) bind();
      else {
        const t0 = Date.now();
        const timer = setInterval(() => {
          if (readyCart() || Date.now() - t0 > 1500) {
            clearInterval(timer);
            if (readyCart()) bind();
          }
        }, 50);
      }
    });
  </script>

</body>
</html>
